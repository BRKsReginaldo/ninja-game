(this["webpackJsonpphaser-template"]=this["webpackJsonpphaser-template"]||[]).push([[0],{1451:function(t,e,i){t.exports=i.p+"static/media/background.abe089e8.png"},1452:function(t,e,i){t.exports=i.p+"static/media/tile.c9514dd3.png"},1453:function(t,e,i){t.exports=i.p+"static/media/dangertile.95534270.png"},1454:function(t,e,i){t.exports=i.p+"static/media/title.37e7f2b3.png"},1455:function(t,e,i){t.exports=i.p+"static/media/info.3d93ece3.png"},1456:function(t,e,i){t.exports=i.p+"static/media/playbutton.20b82413.png"},1457:function(t,e,i){t.exports=i.p+"static/media/clock.7066785b.png"},1458:function(t,e,i){t.exports=i.p+"static/media/energybar.3e4fcd2c.png"},1459:function(t,e,i){t.exports=i.p+"static/media/whitetile.f6f948be.png"},1460:function(t,e,i){t.exports=i.p+"static/media/cloud.b3008311.png"},1461:function(t,e,i){t.exports=i.p+"static/media/hero.31ab953b.png"},1462:function(t,e,i){t.exports=i.p+"static/media/icons.a6491443.png"},1463:function(t,e,i){t.exports=i.p+"static/media/font.b8d1bfa9.png"},1464:function(t,e,i){t.exports=i.p+"static/media/font.4d6c771c.fnt"},1465:function(t,e,i){t.exports=i.p+"static/media/death.61ed9858.mp3"},1466:function(t,e,i){t.exports=i.p+"static/media/death.21dc985c.ogg"},1467:function(t,e,i){t.exports=i.p+"static/media/run.79a85315.mp3"},1468:function(t,e,i){t.exports=i.p+"static/media/run.e969c463.ogg"},1469:function(t,e,i){t.exports=i.p+"static/media/stick.42a31551.mp3"},1470:function(t,e,i){t.exports=i.p+"static/media/stick.41b72b88.ogg"},1471:function(t,e,i){t.exports=i.p+"static/media/grow.69df2205.mp3"},1472:function(t,e,i){t.exports=i.p+"static/media/grow.e21a5ce0.ogg"},1473:function(t,e,i){t.exports=i.p+"static/media/pick.40fdd5dd.mp3"},1474:function(t,e,i){t.exports=i.p+"static/media/pick.21a49f79.ogg"},1475:function(t,e,i){t.exports=i.p+"static/media/click.df32ce99.mp3"},1476:function(t,e,i){t.exports=i.p+"static/media/click.9aade6d7.ogg"},1478:function(t,e,i){"use strict";i.r(e);i(533);const s={IDLE:"@ANIMATIONS/IDLE",RUN:"@ANIMATIONS/RUN"},a={BOOT:"@SCENES/BOOT",MAIN:"@SCENES/MAIN",MENU:"@SCENES/MENU"},n={BACKGROUND:"@TEXTURES/BACKGROUND",CLOCK:"@TEXTURES/CLOCK",CLOUD:"@TEXTURES/CLOUD",DANGER_TILE:"@TEXTURES/DANGER_TILE",ENERGY_BAR:"@TEXTURES/ENERGY_BAR",HERO:"@TEXTURES/HERO",ICONS:"@TEXTURES/ICONS",INFO:"@TEXTURES/INFO",PLAY_BUTTON:"@TEXTURES/PLAY_BUTTON",TILE:"@TEXTURES/TILE",TITLE:"@TEXTURES/TITLE",WHITE_TILE:"@TEXTURES/WHITE_TILE"},r="@FONTS/MAIN_FONT",o={CLICK:"@SOUNDS/CLICK",DEATH:"@SOUNDS/DEATH",GROW:"@SOUNDS/GROW",PICK:"@SOUNDS/PICK",RUN:"@SOUNDS/RUN",STICK:"@SOUNDS/STICK"},h="@irresponsible/score",l="@irresponsible/soundOn",g="@STATES/IDDLE",d="@STATES/WAITING_FOR_INPUT",c="@STATES/WAITING_FOR_INPUT_END",p="@POLE_STATUS/SUCCESSFUL",m="@POLE_STATUS/TOO_SHORT",u="@POLE_STATUS/TOO_LONG",f={defaultSize:{width:750,height:1334,maxRatio:4/3},platformGapRange:[50,150],platformWidthRange:[50,150],scrollTime:250,platformHeight:.6,dangerZoneWidth:30,poleWidth:8,poleGrowTime:400,poleRotateTime:500,heroWalkTime:2,heroFallTime:500,showGUI:!0,bonusTime:3,initialTime:30,soundOn:!0};var T=i(6),S=i.n(T);class O extends T.Scene{constructor(){super({key:a.BOOT})}preload(){const t=this.load;t.image(n.BACKGROUND,i(1451)),t.image(n.TILE,i(1452)),t.image(n.DANGER_TILE,i(1453)),t.image(n.TITLE,i(1454)),t.image(n.INFO,i(1455)),t.image(n.PLAY_BUTTON,i(1456)),t.image(n.CLOCK,i(1457)),t.image(n.ENERGY_BAR,i(1458)),t.image(n.WHITE_TILE,i(1459)),t.spritesheet(n.CLOUD,i(1460),{frameWidth:256,frameHeight:256}),t.spritesheet(n.HERO,i(1461),{frameWidth:77,frameHeight:97}),t.spritesheet(n.ICONS,i(1462),{frameWidth:150,frameHeight:150}),t.bitmapFont(r,i(1463),i(1464)),t.audio(o.DEATH,[i(1465),i(1466)]),t.audio(o.RUN,[i(1467),i(1468)]),t.audio(o.STICK,[i(1469),i(1470)]),t.audio(o.GROW,[i(1471),i(1472)]),t.audio(o.PICK,[i(1473),i(1474)]),t.audio(o.CLICK,[i(1475),i(1476)])}create(){this.scene.start(a.MENU)}}var y=i(258);let E;const w=t=>(E||(E=f),Object(y.get)(E,t));class I extends T.GameObjects.Sprite{constructor({scene:t,platformManager:e,pole:i,nextPlatform:s,onDie:a,soundManager:r}){let o=e.getMainPlatform().getBounds();super(t,o.right-w("poleWidth"),o.top,n.HERO),t.add.existing(this),this.onDie=a,this.setOrigin(1,1),this.platformManager=e,this.pole=i,this.nextPlatform=s,this.soundManager=r}init(){const t=this.scene.anims;return t.create({key:s.IDLE,frames:t.generateFrameNumbers(n.HERO,{start:0,end:11}),frameRate:15,repeat:-1}),t.create({key:s.RUN,frames:t.generateFrameNumbers(n.HERO,{start:12,end:19}),frameRate:15,repeat:-1}),this.anims.play(s.IDLE),this}walkThroughPole(t){const e=this.scene.tweens,i=this.soundManager;let a=this.platformManager.getRightPlatform().getBounds(),n=this.getBounds(),r=this.pole.getBounds(),h={[p]:()=>a.right-w("poleWidth"),[m]:()=>r.right,[u]:()=>r.right+n.width/2}[t]();this.anims.play(s.RUN),i.playSound(o.RUN),this.walkTween=e.add({targets:[this],x:h,duration:w("heroWalkTime")*this.pole.displayHeight,onComplete:()=>{i.stopSound(o.RUN),{[p]:this.nextPlatform.bind(this.scene),[u]:()=>this.fallAndDie(),[m]:()=>{this.pole.fallDown(),this.fallAndDie()}}[t]()},onUpdate:()=>{let t=this.getBounds(),e=this.pole.getBounds(),i=this.platformManager.getRightPlatform().getBounds();t.centerX>e.left&&t.centerX<e.right?this.y=e.top:this.y=i.top}})}goIddle(){this.anims.play(s.IDLE)}fallAndDie(){const t=this.scene,e=t.cameras,i=t.tweens,s=t.game;this.soundManager.playSound(o.DEATH,{delay:w("heroFallTime")/2e3}),i.add({targets:[this],y:s.config.height+2*this.displayHeight,angle:180,duration:w("heroFallTime"),ease:"Cubic.easeIn",onComplete:()=>{e.main.shake(200,.01),this.onDie()}})}}T.Physics.Arcade.Sprite;class x extends T.GameObjects.Sprite{constructor(t,e,i,s,a){super(t,e,i,s||n.BACKGROUND,a),t.add.existing(this)}init(){const t=this.scene.game;return this.displayWidth=t.config.width+100,this.displayHeight=t.config.height+100,this.setOrigin(0,0),this}}class M extends T.GameObjects.Sprite{constructor(t,e,i,s,a){super(t,e,i,s||n.CLOUD,a),t.add.existing(this)}init(){return this}}function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function R(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){N(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function N(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class A{constructor(t){this.scene=t}init(){const t=this.scene.game;let e=Math.ceil(t.config.width/128),i=[];for(let s=0;s<=1;s++)for(let a=0;a<e;a++){let e=new M(this.scene,128*a+S.a.Math.Between(-10,10),t.config.height+32*s+S.a.Math.Between(-10,10),null,s);i.push(e)}this.clouds=i,this.tweenClouds()}tweenClouds(){const t=t=>({[t]:{value:{getEnd:e=>e[t]+S.a.Math.Between(-10,10)}}});this.scene.tweens.add({targets:this.clouds,props:R({},t("x"),{},t("y")),duration:3e3,repeat:-1,yoyo:!0})}}class P extends T.GameObjects.Sprite{constructor({scene:t}){super(t,t.game.config.width/2,t.game.config.height/5,n.ENERGY_BAR),t.add.existing(this)}init(){return this}}class C extends T.GameObjects.Sprite{constructor({scene:t,x:e,y:i}){super(t,e,i,n.WHITE_TILE),t.add.existing(this)}init(){return this}}class D{constructor({scene:t,platformManager:e,player:i,pole:s,group:a}){this.scene=t,this.platformManager=e,this.player=i,this.pole=s,this.group=a}init(){this.timeLeft=w("initialTime"),this.energyBar=new P({scene:this.scene}).init(),this.group.add(this.energyBar);const t=this.energyBar.getBounds();return this.energyStatus=new C({scene:this.scene,x:t.left+5,y:t.top+5}).init(),this.group.add(this.energyStatus),this.energyStatus.setOrigin(0,0),this.energyStatus.displayWidth=500,this.energyStatus.displayHeight=t.height-10,this}removeTimer(){this.gameTimer.remove()}addGameTimer(){this.gameTimer=this.scene.time.addEvent({delay:1e3,callback:()=>{this.timeLeft--,this.updateTimer()},loop:!0})}updateTimer(){const t=this.scene.tweens;this.energyStatus.displayWidth=500*this.timeLeft/w("initialTime"),this.timeLeft<=0&&(t.killTweensOf(this.player),t.killTweensOf(this.pole),this.player.fallAndDie())}addEnergy(){let t=this.timeLeft+w("initialTime");this.timeLeft=Math.min(t,w("initialTime"))}}class L extends T.GameObjects.Sprite{constructor(t,e,i){super(t,e,i,n.CLOCK),t.add.existing(this)}init(){return this}}const U={0:({game:t})=>(t.config.width-w("defaultSize.width"))/2,1:({game:t})=>t.config.width},B=({game:t})=>t.config.height*w("platformHeight");class v extends T.GameObjects.Sprite{constructor(t,e,i){super(i,U[t]({game:i.game}),B({game:i.game}),n.TILE),this.index=t,this.mainIndex=e,i.add.existing(this)}init(){const t=this.scene.game;return this.displayWidth=(w("platformWidthRange[0]")+w("platformWidthRange[1]"))/2,this.displayHeight=t.config.height*(1-w("platformHeight"))+50,this.setOrigin(0,0),this}tween(){}}function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(t)))return;var i=[],s=!0,a=!1,n=void 0;try{for(var r,o=t[Symbol.iterator]();!(s=(r=o.next()).done)&&(i.push(r.value),!e||i.length!==e);s=!0);}catch(h){a=!0,n=h}finally{try{s||null==o.return||o.return()}finally{if(a)throw n}}return i}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return W(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return W(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}class H{constructor(t){this.scene=t,this.mainPlatform=0,this.platforms=[new v(0,this.mainPlatform,t).init(),new v(1,this.mainPlatform,t).init()]}init(){return this.addDangerZone(),this.tweenPlatforms(),this}getMainPlatform(){return this.platforms[this.mainPlatform]}getRightPlatform(){return this.platforms[1-this.mainPlatform]}tweenPlatforms(){const t=this.scene.tweens;let e=this.getMainPlatform().getBounds().right,i=G(w("platformGapRange"),2),s=i[0],a=i[1],n=e+S.a.Math.Between(s,a),r=G(w("platformWidthRange"),2),o=r[0],h=r[1],l=S.a.Math.Between(o,h);this.getRightPlatform().displayWidth=l,t.add({targets:[this.getRightPlatform()],x:n,duration:w("scrollTime"),onComplete:()=>this.placeDangerZone()})}addDangerZone(){const t=this.scene;let e=t.add.sprite(0,this.getMainPlatform().y,n.DANGER_TILE);this.dangerZone=e,e.setOrigin(0,0),e.displayWidth=w("dangerZoneWidth"),e.displayHeight=10,e.visible=!1,this.extraTime=new L(t,0,0),this.extraTime.visible=!1}placeDangerZone(){let t=this.dangerZone;t.visible=!0;let e=this.getRightPlatform(),i=e.getBounds().right;0===S.a.Math.Between(0,1)?t.x=e.x:t.x=i-w("dangerZoneWidth"),this.extraTime.x=t.getBounds().centerX,this.extraTime.alpha=1,this.extraTime.y=this.getMainPlatform().y-30,this.extraTime.visible=!1}hideDangerZone(){this.dangerZone.visible=!1}rearangePlatforms(){const t=this.getMainPlatform();t.x=this.scene.game.config.width,t.alpha=1,this.mainPlatform=1-this.mainPlatform,this.tweenPlatforms()}showExtraTimePick(){this.extraTime.visible=!0,this.timeTween=this.scene.tweens.add({targets:[this.extraTime],y:this.extraTime.y-100,alpha:0,duration:500})}}class k extends T.GameObjects.Sprite{constructor(t,e){const i=e.getMainPlatform().getBounds();super(t,i.right-w("poleWidth"),i.top,n.TILE),t.add.existing(this),this.platformManager=e}init(){return this.setOrigin(1,1),this.displayWidth=w("poleWidth"),this.displayHeight=w("poleWidth"),this}fallDown(){this.scene.tweens.add({targets:[this],angle:180,duration:w("poleRotateTime"),ease:"Cubic.easeIn"})}rearange(){this.angle=1,this.alpha=1,this.x=this.platformManager.getMainPlatform().getBounds().right-w("poleWidth"),this.displayHeight=w("poleWidth")}}class _{constructor({scene:t,platformManager:e,energyManager:i,group:s}){this.scene=t,this.platformManager=e,this.energyManager=i,this.group=s}init(){this.score=0,this.bestScore=Number(localStorage.getItem(h))||0;const t=this.energyManager.energyBar.getBounds();return this.scoreText=this.scene.add.bitmapText(t.right,t.top-40,r,"DISTANCIA: ".concat(this.score.toString())),this.group.add(this.scoreText),this.scoreText.setOrigin(1,0),this.bestScoreText=this.scene.add.bitmapText(t.left,t.bottom+10,r,"DISTANCIA MAXIMA: ".concat(this.bestScore.toString())),this.group.add(this.bestScoreText),this.bestScoreText.setOrigin(0,0),this}show(){}updateScore(){this.scoreText.setText("DISTANCIA: ".concat(this.score.toString()))}updateBestScore(){this.score>this.bestScore&&(this.bestScore=this.score,this.bestScoreText.setText("DISTANCIA MAXIMA: ".concat(this.bestScore.toString())),localStorage.setItem(h,this.bestScore))}increment(){this.score+=1,this.updateScore(),this.updateBestScore()}}class j{constructor(t){this.scene=t;let e=localStorage.getItem(l);this.soundOn=e?Number(e):1,console.log(this.soundOn,e)}init(){const t=this.scene;return this.sounds={},Object.values(o).forEach(e=>{this.sounds[e]=t.sound.add(e)}),this}toggleSoundOn(){this.soundOn=1===this.soundOn?0:1,localStorage.setItem(l,this.soundOn)}playSound(t,e){if(this.soundOn){this.sounds[t].play("",e)}}stopSound(t){this.sounds[t].stop()}}class K extends T.Scene{constructor(){super({key:a.MAIN})}create(){this.firstMove=!0,this.ui=this.add.group(),this.background=new x(this,-50,-50).init(),this.mainPlatform=0,this.platformManager=new H(this).init(),this.pole=new k(this,this.platformManager).init(),this.soundManager=new j(this).init(),this.player=new I({scene:this,platformManager:this.platformManager,pole:this.pole,nextPlatform:this.nextPlatform,soundManager:this.soundManager,onDie:()=>this.showGameOver()}).init(),this.cloudsManager=new A(this).init(),this.addInfo(),this.state=d,this.input.on("pointerdown",this.handlePointerDown,this),this.input.on("pointerup",this.handlePointerUp,this)}handlePointerDown(){if(this.state===d){this.state=c;let t=w("platformGapRange[1]"),e=t+t;this.soundManager.playSound(o.GROW),this.growTween=this.tweens.add({targets:[this.pole],displayHeight:e+50,duration:w("poleGrowTime"),onComplete:()=>this.soundManager.stopSound(o.GROW)}),this.firstMove&&(this.firstMove=!1,this.info.visible=!1,this.energyManager=new D({scene:this,platformManager:this,player:this.player,pole:this.pole,group:this.ui}).init(),this.energyManager.addGameTimer(),this.scoreManager=new _({scene:this,platformManager:this.platformManager,energyManager:this.energyManager,group:this.ui}).init())}}handlePointerUp(){if(this.state===c){this.state=g;let t=this.soundManager;t.stopSound(o.GROW),t.playSound(o.STICK),this.growTween.stop(),this.tweens.add({targets:[this.pole],angle:90,duration:w("poleRotateTime"),ease:"Bounce.easeOut",onComplete:()=>{let e=this.pole.getBounds(),i=this.platformManager.getRightPlatform().getBounds(),s=this.platformManager.dangerZone.getBounds();e.right>=s.left&&e.right<=s.right&&(t.playSound(o.PICK),this.platformManager.showExtraTimePick(),this.energyManager.addEnergy());let a=p;e.right<i.left?a=m:e.right>i.right&&(a=u),this.player.walkThroughPole(a)}})}}nextPlatform(){this.player.goIddle();let t=this.platformManager.getMainPlatform();this.player.y=t.getBounds().top,this.platformManager.hideDangerZone();let e=this.platformManager.getRightPlatform(),i=e.x,s=e.x-t.x;this.tweens.add({targets:[this.player,this.pole,t,e],props:{x:{value:"-= ".concat(s)},alpha:{value:{getEnd:t=>t.x<i?0:1}}},duration:w("scrollTime"),onComplete:()=>this.prepareNextMove()})}prepareNextMove(){this.scoreManager.increment(),this.platformManager.rearangePlatforms(),this.pole.rearange(),this.state=d}addInfo(){let t=this.add.bitmapText(this.game.config.width/2,this.game.config.height/5,r,"SEGURE O DEDO/BOTAO DO MOUSE NA TELA\nPARA ALONGAR O PALITO\nE CHEGAR A PROXIMA PLATAFORMA",35,1);this.info=t,t.setOrigin(.5,.5)}showGameOver(){this.energyManager.removeTimer();let t=this.game.config.width/2,e=this.game.config.height+150,i=this.add.sprite(t-120,e,n.ICONS),s=this.add.sprite(t+120,e,n.ICONS);s.setFrame(1),this.tweens.add({targets:[this.platformManager.dangerZone,this.pole,this.platformManager.getMainPlatform(),this.platformManager.getRightPlatform()],alpha:0,duration:800,ease:"Cubic.easeIn"}),this.tweens.add({targets:[s,i],y:this.game.config.height/2,duration:800,ease:"Cubic.easeIn",onComplete:()=>{i.setInteractive(),i.on("pointerup",()=>{this.soundManager.playSound(o.CLICK),this.scene.start(a.MAIN)}),s.setInteractive(),s.on("pointerup",()=>{this.soundManager.playSound(o.CLICK),this.scene.start(a.MENU)})}})}update(){}}class F extends T.Scene{constructor(){super({key:a.MENU})}create(){let t=new j(this).init(),e=this.add.sprite(0,0,n.TILE);e.setOrigin(0,0);let i=this.game.config;e.displayWidth=i.width,e.displayHeight=i.height,this.add.sprite(i.width/2,50,n.TITLE).setOrigin(.5,0);let s=i.width/2,r=i.height/2-20,h=this.add.sprite(s,r,n.PLAY_BUTTON);h.setInteractive(),h.on("pointerup",()=>{this.cameras.main.flash(),t.playSound(o.CLICK),this.scene.start(a.MAIN)});let l=this.add.sprite(s,r+400,n.ICONS);const g=()=>l.setFrame(t.soundOn?2:3);g(),l.setInteractive(),l.on("pointerup",()=>{t.toggleSoundOn(),g()})}}window.addEventListener("load",()=>{let t=w("defaultSize.width"),e=w("defaultSize.height"),i=t/e,s=window.innerWidth,a=window.innerHeight,n=Math.min(s/a,w("defaultSize.maxRatio"));i>n?e=t/n:t=e*n;const r={width:t,height:e,title:"NINJA IRRESPONSAVEL",url:"https://brksreginaldo.github.io/ninja-game/",version:"0.0.0",scene:[O,F,K],disableContextMenu:!0,backgroundColor:1256515,scale:{mode:S.a.Scale.FIT,autoCenter:S.a.Scale.CENTER_BOTH,parent:"game-container",width:t,height:e}};new S.a.Game(r),window.focus()})},532:function(t,e,i){t.exports=i(1478)},533:function(t,e,i){}},[[532,1,2]]]);
//# sourceMappingURL=main.ec60e626.chunk.js.map